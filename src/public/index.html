<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Inviso</title>
  <link rel="stylesheet" type="text/css" href="./assets/css/app.css">
</head>
<body allow="clipboard-read">
  <section id="appContainer" class="main">
    <div id="loading">Loading...</div>
    <div id="splashscreen">
        <button id="exit-code"> x </button>
      <p class="splash-body splash-invite">To invite other users to this Inviso scene, share the following code with them:</p>
      <form style="display: flex; justify-content: center; align-items: center">
        <p id="invite-code" class="splash-code" style="display: inline-block"></p>
        <div id="container">
            <button type="button" id="copy-code" style="background: #f0f0f0; vertical-align: middle">Copy</button>
        </div>
      </form>
      <hr width="90%" noshade class="splash-body">
      <p class="splash-body splash-join">To join another user's scene, enter the code they shared with you: </p>
      <div id="room-input" style="display: block">
        <form>
          <input id="roomcode" type="text" name="room" size="10" maxlength="6"/>
          <button type="button" id="submit-splash" style="background: #f0f0f0">Join</button>
        </form>
      </div>
      <p class="splash-body splash-footer">You will lose your current scene when you join another scene.<br>You can export your current scene to save your progress.</p>
    </div>
    <!-- <div id="splashbackground"></div> -->
    <div id="GlobalContainer">
      <form>
        <input id="soundPicker" type="file" accept="audio/*" style="visibility:hidden">
      </form>
      <div id="UIContainer">
        <button id="add-object-button">
          <img id="add-object-button-image" src="./assets/models/button_add.png" alt="Add object">
        </button>
        <div id="guis"></div>
      </div>
      <div id="SoundSearch"></div>

      <div id="play-pause-button" title="Pause">Pause</div>

      <div id="undo" class="active" title="Undo">Undo</div>
      <div id="redo" class="active" title="Redo">Redo</div>

      <img id="play-button" src="./assets/models/play.png" style="display: none">
      <img id="pause-button" src="./assets/models/pause.png" style="display: none">
      <!-- <div id="clear">Clear</div> -->

      <div id=save title="Export Design">Export</div>
      <div id=load title="Import Design">Import</div>
      <div id=ambisonics><span id="binauralMode" class="active">Binaural</span></div>
      <div id=collab title="Invite or Join a Room">Invite | Join</div>

      <!-- <div id="copy"><img id="copy-button" src="./assets/models/copy.png" title="Duplicate Selected"></div> -->
      <!-- <div id="search-clear-search-button">
        <img id="search-button" src="./assets/models/search.png" title="Search for Sounds">
        <img id="clear-search-button" src="./assets/models/clear-search.png" title="Close Search Bar">
      </div> -->

      <div id="search-clear-search-button" title="Search for Sounds">Search for Sounds</div>

      <div id="tooltip-label">Disable Tooltips</div>

      <div id="help-add" class="help-bubble" style="right: 90px; top: 12px;">
        <p>Once you click add, you can <b>click</b> anywhere to create</p>
        <p>a <i>sound object</i>, or <b>click and drag</b> to draw a <i>sound zone</i>.</p>
        <p>Add directional sounds to the object with <i>cones</i>. Click
        <p><i>Add Trajectory</i> and drag the object to animate it.</p>
      </div>

      <div id="camera-label">Aerial view</div>

      <div id="help-camera" class="help-bubble" style="bottom:20px; left: 50%; margin-left:60px">
        <p><b>Click & drag</b> anywhere on the screen to rotate the</p>
        <p>view; <b>right-click & drag</b> to pan; <b>scroll</b> to zoom.</p>
        <p>When <b>Altitude View</b> is active, you can change the</p>
        <p>height of a sound object or a trajectory point.</p>
      </div>

      <div id="help-head" class="help-bubble" style="top:50%; left: 50%; margin-left:-350px">
        <p> Use <b>W</b>, <b>A</b>, <b>S</b>, <b>D</b> keys to move the head inside the scene.</p>
        <p> You can also <b>click & drag</b> to move it with your mouse.</p>
      </div>

      <div id="help-mode" class="help-bubble" style="display: none;">
        <p>If your computer's selected audio output device has 16</p>
        <p>or more channels, you can switch to ambisonics mode</p>
        <p>by clicking on the `Binaural` button. See the README for</p>
        <p>more information.</p>
      </div>

      <div id="file-input-help" class="help-bubble" style="display:none;">
        <p>Select an audio file for playback or a connected input device for live audio input.</p>
      </div>

      <div id="channel-help" class="help-bubble" style="display:none;">
        <p>Select the 1st or 2nd channel of the connected audio input device.</p>
      </div>

      <div id="time-help" class="help-bubble" style="display:none;">
        <p>View the current playback position and total duration of the selected audio file.</p>
      </div>

      <div id="volume-help" class="help-bubble" style="display:none;">
        <p>Control the overall volume of this object.</p>
      </div>

      <div id="altitude-help" class="help-bubble" style="display:none;">
        <p>Control the x, y, and z positions of the object in 3d space.</p>
      </div>

      <div id="add-cone-help" class="help-bubble" style="display:none;">
        <p>Add a cone to this object, which imparts directionality on its sound source.</p>
      </div>

      <div id="add-trajectory-help" class="help-bubble" style="display:none;">
        <p>Add a trajectory to this object so it can move around the 3d space.</p>
      </div>  

      <div id="top-gui-help" class="help-bubble" style="display:none;">
        <p>Zoom in, duplicate, or delete this object.</p>
      </div>

      <div id="gui-nav-help" class="help-bubble" style="display:none;">
        <p>Move left/right to cycle between all objects in 3d space and the listener head.</p>
      </div>

      <div id="save-status" class="help-bubble" style="display:none; bottom:50px; left:20px;">
        <p>Saving...</p>
      </div>

      <div id="load-status" class="help-bubble" style="display:none; bottom:50px; left:20px;">
        <p>Loading...</p>
      </div>
      <input id="tooltips" type="hidden" value="true"/>
    </div>
  </section>

  <input id="import" type="file"/>

  <div id="ambisonics_modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.5); z-index: 1000; justify-content: center; align-items: center;">
    <div style="background: white; padding: 20px; border-radius: 5px; text-align: center; max-width: 400px; width: 90%;">
      <p id="modal-message" style="margin-bottom: 20px;">Ambisonics mode is not available unless an audio output device with 16 or more channels is connected.</p>
      <button id="modal-close" style="padding: 10px 20px; background: rgb(13, 147, 204); color: white; border: none; border-radius: 5px; cursor: pointer;">Close</button>
    </div>
  </div>

  <script src="./assets/js/zip.js"></script>
  <script src="./assets/js/rStats.js"></script>
  <script src="./assets/js/rStats.extras.js"></script>
  <script src="./assets/js/simplify3D.js"></script>
  <script src="./assets/js/libtess.min.js"></script>
  <script src="./assets/js/app.js"></script>
</body>
</html>
